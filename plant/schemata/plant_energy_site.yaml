input_format_version: 0
title: IEA Wind Task 37 Wind Plant Ontology version 0.1
description: A file used as input or output of a wind plant model (for overall energy
  production estimation)
required:
  - name
  - boundaries
  - plant_energy_resource
  - layouts


# PROPERTIES
properties:
  #~
  name:
    title: Name
    description: Name of the plant site
    type: string
  #~
  boundaries:
    title: Boundaries
    description: Definition of the site boundaries
    type: object
    oneOf:
      - required:
        - polygons
      - required:
        - circle
    properties:
      #~~
      polygons:
        title: Polygons
        description: A group of polygons that define the site boundary
        type: array
        minItems: 1
        items:
          type: array
          items:
            title: Polygon
            $ref: "#/definitions/polygon"
      #~~
      circle:
        title: Circle
        $ref: "#/definitions/circle"
  #~
  plant_energy_resource:
    description: >-
      TODO
    $ref: "plant_energy_resource.yaml#"
  #~
  layouts:
    description: Position of wind turbines
    required:
      - initial_layout
    Properties:
      initial_layout:
        title: Initial layout
        $ref: "#/definition/layout"
        
        
  #~
  exclusions:
    title: Exclusions
    description: Definition of any site exclusions
    type: object
    oneOf:
      - required:
        - polygons
      - required:
        - circle
    properties:
      #~~
      polygons:
        title: Polygons
        description: A group of polygons that define the site exclusions
        type: array
        minItems: 1
        items:
          title: Polygon
          $ref: "#/definitions/polygon"
      #~~
      circle:
        title: Circle
        $ref: "#/definitions/circle"

  #~
  bathymetry:
   title: Bathymetry
   description: >-
    TODO
  
  #~
  analyses:
    title: Analyses
    description: Specific anlayses that can be included with the site definition
    type: object
    properties:
      #~~
      net_AEP:
        title: Net AEP for the plant/site
        type: number
      gross_AEP:
        title: Gross AEP for the plant/site
        type: number
      wake_model:
        title: Wake model
        description: Wake model used in AEP calculations
        type: object
        additionalProperties: true
        properties:
          name:
            title: Wake model name
            type: string


# DEFINITIONS
definitions:
  #~
  polygon:
    title: Polygon
    type: object
    required:
      - vertices
    properties:
      #~~
      vertices:
        title: Vertices
        description: An array of x/y coordinates
        type: array
        items:
          title: Vertex coordinates
          $ref: "#/definitions/coordinates"
  #~
  circle:
    title: Circle
    description: A circle
    type: object
    required:
      - center
      - radius
    additionalProperties: false
    properties:
      #~~
      center:
        title: Center
        description: The center coordinate of a circle
        $ref: "#/definitions/coordinate"
      #~~
      radius:
        title: Radius
        description: The radius of a circle
        type: number
        units: m   

  layout:
    title: Wind turbine layout
    type: object
    required:
      - coordinates
    properties:
      coordinates:
        title: Wind turbine coordinate
        $ref: "#/definitions/coordinates"
          
  coordinate:
    title: Coordinate
    description: Point coordinate
    type: object
    required:
      - x
      - y
    additionalProperties: false
    properties:
      x:
        title: X coordinate
        description: West-East coordinate
        type: number
        units: m
      y:
        title: Y coordinate
        description: South-North coordinate
        type: number
        units: m
  coordinates:
    title: Coordinates
    description: Multi-point coordinates
    type: object
    required:
      - x
      - y
    additionalProperties: false
    properties:
      x:
        title: X coordinates
        description: West-East coordinates
        type: array
        units: m
      y:
        title: Y coordinates
        description: South-North coordinates
        type: array
        units: m
        